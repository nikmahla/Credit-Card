<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kite+One&family=Mukta:wght@200;300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="src/output.css">

    <script src="https://cdn.tailwindcss.com"></script>

    <title>Credit Card</title>
</head>

<body>
    <section class="flex w-full h-screen p-2 bg-orange-100 flex-col font-kite overflow-hidden">
        <div class="w-full h-[4rem] flex justify-center mt-3">
            <h1 class=" hover:translate-x-2 duration-300 text-3xl text-center font-bold  text-orange-500 ">Payment
                Information</h1>
        </div>
        <div class="w-full h-[18rem]  flex justify-center items-center ">
            <section class="w-1/2 h-full flex justify-center items-center">

                <div id="bgbg" class=" shadow-lg shadow-zinc-500 duration-300 w-[22rem] h-[14rem] rounded-lg relative ">
                    <img class="w-full h-full object-cover opacity-50 -z-10 " src="src/img/map.png" alt="creditCard">
                    <div class=" flex justify-between w-full h-[2.5rem]  absolute top-2 left-0 ">
                        <img class="w-1/4 h-full object-contain  " src="src/img/chip.png" alt="">
                        <div class="w-1/4"></div>
                        <img class="w-1/4 h-fit object-contain p-4" src="src/img/visa.png" alt="">
                    </div>

                    <div class="w-full h-[2.5rem]  felx justify-center  items-center">
                        <p class=" absolute top-[3rem] left-[10%] text-sm w-full h-full   text-gray-50 capitalize">card
                            number</p>
                        <p id="number" class="absolute top-[4.5rem] left-[10%]  text-xl w-full h-full font-bold  text-white ">
                            </p>

                    </div>

                    <div class="w-fit  felx justify-center   items-center *:text-sm   *:capitalize  *:text-gray-100 ">
                        <p class="absolute top-[9.5rem] left-[10%] w-1/3 ">
                            cardholder name</p>
                        <p class=" absolute top-[9.5rem] left-[50%] w-1/3  ">
                            Expiration</p>
                        <p class=" absolute top-[9.5rem] left-[80%] w-1/3  ">cvc
                        </p>
                    </div>

                    <div class="w-fit  felx justify-center   items-center *:text-sm  *:font-bold *:capitalize  *:text-gray-100 ">
                        <p id="name" class="absolute top-[10.8rem] left-[10%]  w-1/3  ">
                            </p>
                        <p id="date" class=" absolute top-[10.8rem] left-[50%]  w-1/3 ">
                            </p>
                        <p id="cvv" class=" absolute top-[10.8rem] left-[80%] w-1/3   ">
                            </p>
                    </div>
                </div>
            </section>
            <section id="form" class="w-1/2 h-full flex-col ps-2 mt-14">
                <div class="w-full flex flex-col h-[4rem] ">
                    <label class="text-zinc-600 text-sm capitalize" for="cardNumber">Card Number</label>
                    <div id="" class=" cardNumber w-full  flex mt-1  *:w-1/6  *:ms-1 *:ps-1  *:bg-zinc-50 *:border-2 *:border-zinc-300  *:rounded-lg   *:text-sm">
                        <input class=" "
                            placeholder="1234 " type="">
                        <input class="  "
                            placeholder="1234 " type="">
                        <input class=" "
                            placeholder="1234 " type="">
                        <input class="   "
                            placeholder="1234 " type="">
                    </div>

                </div>

                <div class="w-full flex flex-col h-[4rem] ">
                    <label class="text-zinc-600 text-sm capitalize " for="cardName">name</label>
                    <input class="bg-zinc-50 border-2 mt-1 border-zinc-300 w-2/3 rounded-lg ps-2" id="cardName"
                        type="text" inputmode="">
                </div>

                <section class="w-2/3 flex mt-4">
                    <div class="w-1/2 flex flex-col mt-1">
                        <label class="text-zinc-600 text-sm capitalize" for="expiration">Expiration(mm/yy)</label>
                        <input class="bg-zinc-50 border-2 mt-1 border-zinc-300 w-full rounded-lg capitalize ps-2"
                            id="expiration" type="text" pattern="[0-9]*" inputmode="numeric">
                    </div>
                    <div class="w-1/2 flex ms-10 flex-col mt-1">
                        <label class="text-zinc-600 text-sm capitalize" for="securityCode">security code</label>
                        <input class="bg-zinc-50 border-2 mt-1 border-zinc-300 w-full rounded-lg capitalize ps-2"
                            id="securityCode" type="text" pattern="[0-9]*" inputmode="numeric">
                    </div>


                   
                    

                </section>


        </div>


        <div class="w-full h-full flex justify-center items-center">
            <button id="btnPay" class="hover:shadow-2xl hover:shadow-orange-800 shadow-lg shadow-orange-500 w-1/4 h-1/2 bg-orange-500 rounded-md text-gray-100 ">
                pay now</button>
        </div>


    </section>
    <!-- </div>

    </section> -->
</body>
<script>
    let userCardNumber = document.getElementById('number')
let userCardName = document.getElementById('name')
let userCarddate = document.getElementById('date')
let userCardcvv = document.getElementById('cvv')
let cardName = document.getElementById('cardName')
let expiration = document.getElementById('expiration')
let securityCode = document.getElementById('securityCode')
let cardNumber = document.querySelectorAll('.cardNumber>input')
let btnPay=document.getElementById('btnPay')


cardNumber.forEach((val, i) => {
    val.addEventListener('keyup', (e) => {
        if (e.keyCode == 8 && val.value.length == 0) {
            if (i = !0) {
                cardNumber[i - 1].focus()
            }
        } else {

            if (val.value.length >= 4) {
                if (i != 3) {
                    userCardNumber.innerText = val.value
                    cardNumber[i + 1].focus()

                }else if(i=5){
                    cardName.focus()
                }else if(i=6){
                    expiration.focus()
                }else{
                    securityCode.focus()
                }



                val.value = val.value.slice(0, 4)
            }
            
        }
    






        userCardNumber.innerText = ''
        cardNumber.forEach((val, i) => {
            let temp = val.value
            if (i == 3) {
                userCardNumber.innerText += temp
            } else {
                userCardNumber.innerText += temp.length == 4 ? temp + ' - ' : temp

            }
        })
    })

})


cardName.addEventListener('input', () => {
    userCardName.innerText = cardName.value
})


expiration.addEventListener('input', (e) => {
    const inputValue = e.target.value;
    if (inputValue.length >= 4) {
        e.target.value = inputValue.slice(0, 5);
    }
    if (inputValue.length >= 2) {
        if (inputValue.length == 2) {
            e.target.value += '/'
        }
        userCarddate.innerText = e.target.value;
       

    }
    
})



securityCode.addEventListener('input', (e) => {
    let inputValue = e.target.value;
    if (inputValue >= 3) {
        e.target.value = inputValue.slice(0, 3)
    }
    userCardcvv.innerText = securityCode.value
})

btnPay.addEventListener('click',()=>{
    console.log('dd');
    btnPay.innerText='processing payment...'
})

</script>

</html>